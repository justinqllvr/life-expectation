import"./style.css";import gsap from"gsap";import ScrollTrigger from"gsap/ScrollTrigger";import{Main}from"./THREE";const main=new Main,mouseCursor=document.getElementsByClassName("cursor");window.addEventListener("mousemove",(e=>{mouseCursor[0].style.top=e.pageY+"px",mouseCursor[0].style.left=e.pageX+"px",main.mouseRotation(e.pageX)})),fetch("/data.json").then((e=>e.json())).then((e=>{}));let pseudos=[],ages=[],kills=[];for(let e=0;e<6;e++)pseudos.push(document.getElementsByClassName(`pseudo_${e+1}`)),ages.push(document.getElementsByClassName(`age_${e+1}`)),kills.push(document.getElementsByClassName(`kill_${e+1}`));kills.map((e=>{e[0].style.opacity=0}));const killFeed=(e,t)=>{if(kills.map((e=>{e[0].style.opacity=0})),e.length<=6)for(let s=0;s<e.length;s++)0!==kills[s][0].style.opacity&&(console.log(),kills[s][0].style.opacity=1,pseudos[s][0].innerHTML=e[s],ages[s][0].innerHTML=`${t[s]} ans`);else if(e.length>6){kills.map((e=>e[0].style.opacity=1));let s=0;for(let o=6;o>0;o--)s<6&&(console.log(e.length-o),pseudos[s][0].innerHTML=e[e.length-o-1],ages[s][0].innerHTML=`${t[t.length-o-1]} ans`,s++)}};for(let e=0;e<9;e++)document.getElementsByClassName(`nav_mark-${e}`)[0].style.top=11*e+"%",document.getElementsByClassName(`nav_mark-${e}_text`)[0].style.top=11*e+"%";const navProgress=e=>{document.getElementById("nav_active").style.height=`${Math.floor(100*e)}%`;for(let t=0;t<9;t++)parseInt(document.getElementsByClassName(`nav_mark-${t}`)[0].style.top)+t<Math.floor(100*e)?(document.getElementsByClassName(`nav_mark-${t}`)[0].style.backgroundColor="white",document.getElementsByClassName(`nav_mark-${t}_text`)[0].style.color="white"):(document.getElementsByClassName(`nav_mark-${t}`)[0].style.backgroundColor="#63676D",document.getElementsByClassName(`nav_mark-${t}_text`)[0].style.color="#63676D")};gsap.registerPlugin(ScrollTrigger);const tween=gsap.to(".wrapper_content",{scrollTrigger:{trigger:".wrapper_content",start:"top top",end:"bottom bottom",scrub:!0,onUpdate:e=>{killFeed(main.deathList("pseudo"),main.deathList("age")),main.updateScroll(e.progress),navProgress(e.progress)}}}),tweeny=gsap.to(".presentation_wrapper",{scrollTrigger:{trigger:".presentation_wrapper",start:"-50%",end:"30%",scrub:!0,onUpdate:e=>{main.updateScroll1(e.progress)}}});let gradientTop=document.getElementsByClassName("gradient_top"),gradientBottom=document.getElementsByClassName("gradient_bottom");const tweeni=gsap.to(".presentation_wrapper",{scrollTrigger:{trigger:".presentation_wrapper",start:"-100%",end:"90%",scrub:!0,onUpdate:e=>{e.progress>.95?gradientTop[0].style.display="block":gradientTop[0].style.display="none",e.progress>.35?gradientBottom[0].style.display="block":gradientBottom[0].style.display="none"}}});window.addEventListener("load",(e=>{gradientBottom[0].style.display="none"}));